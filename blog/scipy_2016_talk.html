<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>A String Theorist's Journey with Python - Chan's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./scipy_2016_talk.html">

        <meta name="author" content="Chan Y. Park" />
        <meta name="keywords" content="python,scipy 2016,string theory" />
        <meta name="description" content="MathJax.Hub.Config({ TeX: { Macros: { cH: &#34;{\\mathcal{H}}&#34;, cP: &#34;{\\mathcal{P}}&#34;, cS: &#34;{\\mathcal{S}}&#34;, cK: &#34;{\\mathcal{K}}&#34;, cM: &#34;{\\mathcal{M}}&#34;, cN: &#34;{\\mathcal{N}}&#34;, cW: &#34;{\\mathcal{W}}&#34;, cX: &#34;{\\mathcal{X}}&#34;, SU: &#34;{\\mathrm{SU}}&#34;, SO: &#34;{\\mathrm{SO}}&#34;, Sp: &#34;{\\mathrm{Sp}}&#34;, UU: &#34;{\\mathrm{U}}&#34;, fg: &#34;{\\mathfrak{g}}&#34;, ft: &#34;{\\mathfrak{t}}&#34;, gA: &#34;{\\mathrm{A …" />

        <meta property="og:site_name" content="Chan's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="A String Theorist&#39;s Journey with Python"/>
        <meta property="og:url" content="./scipy_2016_talk.html"/>
        <meta property="og:description" content="MathJax.Hub.Config({ TeX: { Macros: { cH: &#34;{\\mathcal{H}}&#34;, cP: &#34;{\\mathcal{P}}&#34;, cS: &#34;{\\mathcal{S}}&#34;, cK: &#34;{\\mathcal{K}}&#34;, cM: &#34;{\\mathcal{M}}&#34;, cN: &#34;{\\mathcal{N}}&#34;, cW: &#34;{\\mathcal{W}}&#34;, cX: &#34;{\\mathcal{X}}&#34;, SU: &#34;{\\mathrm{SU}}&#34;, SO: &#34;{\\mathrm{SO}}&#34;, Sp: &#34;{\\mathrm{Sp}}&#34;, UU: &#34;{\\mathrm{U}}&#34;, fg: &#34;{\\mathfrak{g}}&#34;, ft: &#34;{\\mathfrak{t}}&#34;, gA: &#34;{\\mathrm{A …"/>
        <meta property="article:published_time" content="2016-07-14" />
            <meta property="article:section" content="articles" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="scipy 2016" />
            <meta property="article:tag" content="string theory" />
            <meta property="article:author" content="Chan Y. Park" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>
        <link href="./static/custom.css" rel="stylesheet">





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
Chan's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="./category/articles.html">Articles</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./scipy_2016_talk.html"
                       rel="bookmark"
                       title="Permalink to A String Theorist's Journey with Python">
                        A String Theorist's Journey with Python
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-07-14T15:50:00-04:00"> Thu 14 July 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="./tag/python.html">python</a>
        /
	<a href="./tag/scipy-2016.html">scipy 2016</a>
        /
	<a href="./tag/string-theory.html">string theory</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        TeX: {
            Macros: {
                cH: "{\\mathcal{H}}",
                cP: "{\\mathcal{P}}",
                cS: "{\\mathcal{S}}",
                cK: "{\\mathcal{K}}",
                cM: "{\\mathcal{M}}",
                cN: "{\\mathcal{N}}",
                cW: "{\\mathcal{W}}",
                cX: "{\\mathcal{X}}",
                SU: "{\\mathrm{SU}}",
                SO: "{\\mathrm{SO}}",
                Sp: "{\\mathrm{Sp}}",
                UU: "{\\mathrm{U}}",
                fg: "{\\mathfrak{g}}",
                ft: "{\\mathfrak{t}}",
                gA: "{\\mathrm{A}}",
                gD: "{\\mathrm{D}}",
                gE: "{\\mathrm{E}}",
                dd: "{\\mathrm{d}}",
                ee: "{\\mathrm{e}}",
                ii: "{\\mathrm{i}}",
                bR: "{\\mathbb{R}}",
                bS: "{\\mathbb{S}}",
                bZ: "{\\mathbb{Z}}",
            },
            equationNumbers: { autoNumber: "AMS" }
        }
    });
</script><div class="section" id="introduction">
<h2>Introduction</h2>
<p>This is an expanded version of my talk &#64; SciPy 2016.</p>
<p>I am a postdoc studying string theory at Rutgers University. Here I want to share with you my experience of using Python in my research project. As a teaser, let me show you the end-product of the project, loom, whose web UI can be found at <a class="reference external" href="http://chan.physics.rutgers.edu/loom">http://chan.physics.rutgers.edu/loom</a>.</p>
<iframe src="http://chan.physics.rutgers.edu/loom" style="border: 1px black solid; width: 800px; height: 800px;"></iframe><p>Here you can see many colorful plots produced for real research, and you can generate your own plot by first going to the configuration page, inputting a few parameters, and then click ‘generate.’ Now you see loom working hard, and like a food network show, let me show you a prepared plot instead of waiting for a while, and here is one nice colorful plot.</p>
<iframe src="http://chan.physics.rutgers.edu/loom/plot?data=AD_from_pure_SU_3" style="border: 1px black solid; width: 1280px; height: 800px;"></iframe><div class="section" id="goal">
<h3>Goal</h3>
<p>My goal is to illustrate how Python is integrated throughout the progress of this project</p>
<ul class="simple">
<li>to Python programmers and developers who want to know how a math-oriented theoretical physicist use Python, and</li>
<li>to scientists who are interested in using Python but have difficulty in figuring out where and how to start</li>
</ul>
<p>as a case study of a collaborative research project using Python.</p>
</div>
</div>
<div class="section" id="crash-course-string-theory">
<h2>Crash course: string theory</h2>
<div class="section" id="what-is-string-theory">
<h3>What is string theory?</h3>
<img alt="strings and D-branes" class="align-center" src="figures/strings_and_D_branes.png" style="width: 400px;" />
<p>So, let me start by telling you what a string theory is.</p>
<p>More commonly known as theoretical particle physics, high-energy theory is a study to understand the fundamental forces of the universe, and you may have heard of the four: electromagnetic force, weak force, strong force, and gravity.</p>
<p><strong>String theory</strong> is part of high energy theory. It started as a candidate theory of quantum gravity, and now it’s evolved into a field of study to build <strong>a physical and mathematical framework to describe the fundamental forces in a unified way</strong>.</p>
</div>
<div class="section" id="why-computational-analysis-in-string-theory">
<h3>Why computational analysis in string theory?</h3>
<img alt="cat and strings" class="align-center" src="figures/cat_and_strings.jpg" style="width: 400px;" />
<p>Then why are string theorists interested in computational analysis in tackling questions of mathematical nature?</p>
<p>Indeed string theorists want to find a mathematical and exact result.</p>
<p>However, such a beautiful moment that we have a concise and exact formula for a question rarely happens because many problems in string theory pose significant challenges to a traditional pen-and-paper approach.</p>
<p>We tackle such a problem by using computational method, which <strong>gives us hints toward the formulation of a complete answer</strong>.</p>
<p>Also it's largely thanks to the recent progress of both hardwares and mathematical software packages that enabled us to physical and mathematical problems by combining analytic and numerical methods together.</p>
</div>
<div class="section" id="string-theory-and-m-theory">
<h3>String theory and M-theory</h3>
<object class="align-center" data="figures/corners_of_string_theory.svg" type="image/svg+xml">
coners of string theory</object>
<p>Then let me introduce a few concepts from string theory that will appear in this post.</p>
<p>The first one is M-theory, which is sometimes called the mother of all string theories, because various string theories are believed to be different limits of M-theory.</p>
<p>M-theory is a prospective theory of quantum gravity that lives in an 11-dimensional spacetime, that is a ten-dimensional space plus one time direction. 10-dimensional string theories and 11-dimensional supergravity are believed to be different limits of M-theory.</p>
<p>Then we usually wrap this eleven-dimensional theory onto a very small seven-dimensional space, so that we can obtain a four-dimensional spacetime that we live in.</p>
</div>
<div class="section" id="m-branes">
<h3>M-branes</h3>
<p>M-theory has a higher-dimensional analogue of electromagnetic field.</p>
<p>M-theory has two kinds of extended objects, called <strong>M2-branes</strong> and <strong>M5-branes</strong>, that couple to the field electrically and magnetically, respectively. They are the main characters of this story.</p>
<p>An Mp-brane spans a (p+1)-dimensional spacetime. That is, M2-brane spans 2 spatial direction and one time direction, hence the name M2, and M5-brane spans 5 spatial directions and one time direction.</p>
<p>They saturate an inequality called Bogomolny-Prasad-Sommerfield (BPS) bound,</p>
<div class="math">
\begin{equation*}
M \geq \left| Z \right|,
\end{equation*}
</div>
<p>where <span class="math">\(M\)</span> is the mass and <span class="math">\(Z\)</span> is a conserved quantity called a central charge of the object, which is an analogue of electric and magnetic charges. Therefore each M-brane has a mass tied to the central charge.</p>
</div>
<div class="section" id="supersymmetric-gauge-theory-from-m5-branes">
<h3>Supersymmetric gauge theory from M5-branes</h3>
<object class="align-center" data="figures/2_plus_4_M5.svg" type="image/svg+xml">
2 plus 4 M5</object>
<p>What we are going to do with those M-branes is we wrap them on a two-dimensional surface, more precisely a Riemann surface with punctures.</p>
<p>When we wrap <span class="math">\(N\)</span> M5-branes on a punctured Riemann surface <span class="math">\(C\)</span>, we obtain a 4d superysymmetric gauge theory, more precisely <span class="math">\(\mathcal{N}=2\)</span> <span class="math">\(\mathrm{SU}(N)\)</span> theory of class <span class="math">\(S\)</span>. <a class="footnote-reference" href="#gaiotto-2009" id="id1">[1]</a> <a class="footnote-reference" href="#gaiotto-moore-neitzke-2009" id="id2">[2]</a></p>
<p>In the Coulomb branch of a class <span class="math">\(S\)</span> theory, the M5-branes merge into a single M5-brane wrapping a surface <span class="math">\(\Sigma\)</span>,</p>
\begin{align}
    f(z, x)=0,\ z \in C, \label{eq:SW_curve}
\end{align}<p>which is a multi-sheeted cover <span class="math">\(\{ x_{i = 1, \ldots, N} \}\)</span> over <span class="math">\(C\)</span>.</p>
<p>When we wrap an M5-brane on such a surface, more precisely a complex 1-dimensional curve, which is called a Seiberg-Witten curve, the remaining four-dimensional spacetime that comes from a high-level math of six minus two equals 4, becomes populated with a supersymmetric gauge theory, which you can imagine as a mathematical model of the real world particle physics.</p>
<p><span class="math">\(\Sigma\)</span> determines the low-energy physics of the theory. <a class="citation-reference" href="#seiberg-witten-1994" id="id3">[Seiberg-Witten_1994]</a></p>
<p>A nice thing is that the geometry of the Riemann surface determines the four-dimensional physics. This is one example of the interplay between physics and geometry in string theory.</p>
</div>
<div class="section" id="supersymmetric-particles-from-m2-branes">
<h3>Supersymmetric particles from M2-branes</h3>
<object class="align-center" data="figures/2_plus_4_M2_M5.svg" type="image/svg+xml">
2 plus 4 M2 M5</object>
<p>So we got a theory, but what about particles living in the theory?</p>
<p>A supersymmetric particle comes from an M2-brane whose boundary ends along a closed curve <span class="math">\(\gamma \in H_1(\Sigma; \mathbb{Z})\)</span> on the two-dimensional Riemann surface <span class="math">\(Sigma\)</span>. <a class="citation-reference" href="#henningson-yi-1997" id="id4">[Henningson-Yi_1997]</a> <a class="citation-reference" href="#mikhailov-1997" id="id5">[Mikhailov_1997]</a></p>
<p>Then the mass of the particle is given by integrating a differential 1-form <span class="math">\(\lambda = x\, \mathrm{d} z\)</span>, called Seiberg-Witten differential, along <span class="math">\(\gamma\)</span>,</p>
<div class="math">
\begin{equation*}
M = |Z|,\ Z = \oint_\gamma \lambda.
\end{equation*}
</div>
<p>and its charges are determined again from the geometry.</p>
</div>
<div class="section" id="spectral-network">
<h3>Spectral network</h3>
<p>Thanks to supersymmetry, the boundary of such an M2-brane satisfies a differential equation,</p>
\begin{align}
    \frac{\partial}{\partial t} \left( \lambda_{j} - \lambda_{k} \right)= \left( x_j(z) - x_k(z) \right) \frac{\partial z}{\partial t} = e^{i \theta},\label{eq:class_S_diff_eq}
\end{align}<p>where <span class="math">\(t\)</span> is a real parameter along <span class="math">\(\gamma\)</span>, <span class="math">\(\lambda_i = x_i\, \mathrm{d}z\)</span> is the value of <span class="math">\(\lambda\)</span> on the <span class="math">\(i\)</span>-th sheet, and <span class="math">\(\theta= \arg(Z)\)</span>. <a class="citation-reference" href="#klemm-lerche-mayr-vafa-warner-1996" id="id6">[Klemm-Lerche-Mayr-Vafa-Warner_1996]</a></p>
<p>Then we can reverse the question, such that we first find the solutions of the differential equation on the Riemann surface and then find particles out of the geometric flows. This is the idea of <strong>spectral network</strong>.</p>
<p>Extending the previous construction, we consider a set of curves on <span class="math">\(C\)</span> that are the solutions of (<span class="math">\(\ref{eq:class_S_diff_eq}\)</span>) for a fixed <span class="math">\(\theta\)</span>, which is called a spectral network of the class <span class="math">\(\mathcal{S}\)</span> theory determined by <span class="math">\(f(z, x)\)</span>. <a class="citation-reference" href="#gaiotto-moore-neitzke-2012" id="id7">[Gaiotto-Moore-Neitzke_2012]</a></p>
</div>
<div class="section" id="spectroscopy-we-learned-at-high-school">
<h3>Spectroscopy we learned at high school</h3>
<p>So what can we do by finding particles of a theory? We are going to do supersymmetric spectroscopy!</p>
<p>First let me remind you what we learned in a high-school science class about spectroscopy. When we put a small amout of chemical compound into a torch we see a flame, and its color tells us about an atomic element in the compound. This is flame test, a qualitative method to identify an element.</p>
<div style="display: block; margin: 1em auto 1em; height: 125px; width: 200px;">
    <div style="text-align: center; float: left;">
        <img src="figures/flametest_Cu.jpg" style="background:none; box-shadow:none; border:none; vertical-align:middle; height: 100px;"/>
        <br/>
        Cu
    </div>
    <div style="text-align: center; float: right;">
        <img src="figures/flametest_Na.jpg" style="background:none; box-shadow:none; border:none; vertical-align:middle; height: 100px;"/>
        <br/>
        Na
    </div>
</div><p>More quantitatively we can use a diffraction grating to the light of the flame to obtain an emission spectrum to identify an atomic element.</p>
<div style="display: block; margin: 1em auto 1em; height: 75px; width: 650px;">
    <div style="text-align: center; float: left;">
        <img src="figures/emission_spectrum_Cu.jpg" style="background:none; box-shadow:none; border:none; vertical-align:middle; height: 50px; width: 300px;"/>
        <br/>
        Cu
    </div>
    <div style="text-align: center; float: right;">
        <img src="figures/emission_spectrum_Na.jpg" style="background:none; border:none; box-shadow:none; vertical-align:middle; height: 50px; width: 300px;"/>
        <br/>
        Na
    </div>
</div></div>
<div class="section" id="supersymmetric-spectroscopy-via-spectral-network">
<h3>Supersymmetric spectroscopy via spectral network</h3>
<div style="display: block; margin: 1em auto 250px; width: 650px;">
    <div style="text-align: center; float: left;">
        <img src="figures/AD_of_SU_3_N_f_2_SU_3_f_maximal_symmetric_SN_near_triplet.svg" style="background:none; box-shadow:none; border:none; vertical-align:middle; height: 200px; width: 200px;"/>
        <br/>
        <p id="caption">spectral network</p>
    </div>
    <div style="text-align: center; float: left;">
        <img src="figures/AD_of_SU_3_N_f_2_SU_3_f_maximal_symmetric_finite.svg" style="background:none; box-shadow:none; border:none; vertical-align:middle; height: 200px; width: 200px;"/>
        <br/>
        <p id="caption">particles</p>
    </div>
    <div style="text-align: center; float: left;">
        <img src="figures/AD_of_SU_3_N_f_2_SU_3_f_maximal_symmetric_Z_Plot.svg" style="background:none; box-shadow:none; border:none; vertical-align:middle; height: 200px; width: 200px;"/>
        <br/>
        <p id="caption">central charges</p>
    </div>
    <!-- <div style="text-align: center; height: 200px; float: left;">
        <img src="figures/figure_A3_k_2_weight.png" style="background:none; box-shadow:none; border:none; vertical-align:middle; margin-bottom: 22px;"/>
        <br/>
        <p id="caption">2d solitons
    </div> -->
</div><p>The idea is the same: we obtain a spectrum of supersymmetric particles, then using the spectrum we try to identify what the theory that has such a spectrum is.</p>
<p>Using spectral networks, we can find the particle spectrum of a given supersymmetric theory. More precisely, we find two-way streets of finite <span class="math">\(\mathcal{S}\)</span>-walls corresponding to BPS states, thereby obtaining  the BPS spectrum of a 4d <span class="math">\(\mathcal{N} = 2\)</span> theory of class <span class="math">\(\mathcal{S}\)</span> on the Coulomb branch.</p>
<p>We <strong>use the spectrum to identify what the theory is</strong>, which is useful when the theory is strongly coupled and we lack any perturbative method to understand it.</p>
</div>
<div class="section" id="examples-of-spectral-networks-from-loom">
<h3>Examples of spectral networks from <tt class="docutils literal">loom</tt></h3>
<p>In practice, we generate a familiy of colorful networks called spectral networks, stare it until we spot a particle, do some taxonomy of them until we claim a victory.</p>
<div style="display: block; margin: auto; width: 650px;">
    <iframe src="http://chan.physics.rutgers.edu/reveal.js/figures/loom_plots/AD_from_pure_SU_3.html" style="width: 600px; height: 700px; background:none; box-shadow:none; border:none;"></iframe>
</div></div>
</div>
<div class="section" id="from-a-physics-problem-to-a-computational-task">
<h2>From a physics problem to a computational task</h2>
<p>OK, enough of physics, now let me describe in detail what exactly the computational problem we want to solve. Every step that I describe here needs to be done using computer and is done by using various Python libraries.</p>
<p>First a technical detail is we first wrap the Riemann surface on another Riemann surface, in this case a complex plane that has the same topology as a sphere with punctures. Then there are branch points and cuts on the <span class="math">\(z\)</span>-plane, which can be found by solving the equation for the Riemann surface <span class="math">\(f(x, z) = 0\)</span>.</p>
<object class="align-center" data="figures/SN_step_1.svg" style="width: 400px;" type="image/svg+xml">
SN step 1</object>
<p>Then from a branch point we draw a curve called an <span class="math">\(\mathcal{S}\)</span>-wall, which is a flow determined by the previous differential equation (<span class="math">\(\ref{eq:class_S_diff_eq}\)</span>). Then we draw another one, and so on.</p>
<object class="align-center" data="figures/SN_step_2.svg" style="width: 400px;" type="image/svg+xml">
SN step 2</object>
<p>There can be an intersection between two curves, and when they satisfy a certain mathematical condition, and for math aficionados the condition is that the roots of the curves sum up to another root of the Lie algebra associated with the theory, there is another curve coming out of the intersection that flows according to (<span class="math">\(\ref{eq:class_S_diff_eq}\)</span>).</p>
<object class="align-center" data="figures/SN_step_3.svg" style="width: 400px;" type="image/svg+xml">
SN step 3</object>
<p>And we repeat the procedure of finding intersections among the previous and the newly grown curves up to a desired number of iterations. The set of curves obtained this way is called a spectral network <span class="math">\(\mathcal{W}_\theta\)</span> at a fixed value of <span class="math">\(\theta\)</span>, which is a parameter of the differential equation (<span class="math">\(\ref{eq:class_S_diff_eq}\)</span>).</p>
<object class="align-center" data="figures/full_SN.svg" style="width: 400px;" type="image/svg+xml">
full SN</object>
<p>Now we <strong>generate a family of spectral networks</strong> for various values of <span class="math">\(\theta\)</span> between <span class="math">\(0\)</span> and <span class="math">\(\pi\)</span>, and <strong>look for a topological change</strong> of the networks by studying the evolution of the spectral networks as we change <span class="math">\(\theta\)</span>.</p>
<div style="display: block; margin: auto; width: 650px;">
    <iframe src="http://chan.physics.rutgers.edu/reveal.js/figures/loom_plots/single_hyper.html" style="width: 600px; height: 700px; background:none; box-shadow:none; border:none;"></iframe>
</div><p>For a certain value of <span class="math">\(\theta = \theta_\mathrm{c}\)</span> between plot index 9 and 10, we can see there is something going on, and this moment corresponds to spotting a supersymmetric particle.</p>
<p>At <span class="math">\(\theta = \theta_\mathrm{c}\)</span>, there is a subnetwork <span class="math">\(\mathcal{W}_\mathrm{c} \subset \mathcal{W}_{\theta_\mathrm{c}}\)</span> of finite length between the two branch points, called a two-way street, and there is a supersymmetric particle corresponding to <span class="math">\(\mathcal{W}_\mathrm{c}\)</span>. In terms of M5- and M2-branes, this configuration looks like the following.</p>
<div style="display: block; text-align: center; margin: auto; width: 300px;">
    <img src="figures/hypermultiplet_3d.png" style="background:none; border: none; box-shadow:none;"/>
    <br/>
    <p id="caption">M5- and M2-branes at \(\theta_\mathrm{c}\)</p>
</div></div>
<div class="section" id="how-i-built-loom-with-python">
<h2>How I built <tt class="docutils literal">𝚕𝚘𝚘𝚖</tt> with Python</h2>
<div class="section" id="loom-a-python-program-to-generate-spectral-networks">
<h3><tt class="docutils literal">loom</tt>, a Python program to generate spectral networks</h3>
<p>Now all the groundworks are laid down so let me tell you how loom is actually built.</p>
<p>Previously there were a few codes for generating spectral networks that are written in Mathematica, which is a favourite mathematics package among string theorists thanks to its user-friendly manipulation of symbolic math.</p>
<p>However there have been several issues when using Mathematica. A Mathematica code is not particularly convenient during collaborative development of a program and therefore each of us maintained separate codes, which was an overlapping investment of time and effort; there is the issue of the number of licenses available because Mathematica is (quite a pricey) commerical program; in practice the numerical accuracy of Mathematica is not good and its warnings and errors were hard to understand.</p>
<p>So I launched an open-source project <tt class="docutils literal">loom</tt> on GitHub and started a collaboration with my friend string theorists working on spectral networks, hoping that we can converge our effort into a common project. The name came from ...</p>
</div>
<div class="section" id="why-i-chose-python-to-write-loom">
<h3>Why I chose Python to write <tt class="docutils literal">loom</tt></h3>
<p>First of all, my ‘mother tongue’ is C, and at first I was thinking of writing a C module for Mathematica.</p>
<p>However, after some experiments I decided to use Python.</p>
<p>It was because Python is easy enough for my colleagues without programming experience to learn, but at the same time is a full-fledged standard programming language.</p>
<p>All the libraries that I needed and used were open-source, meaning I can look into the box if I want and don’t have to second-guess an incomprehensible error message.</p>
<p>Of course an active and helpful Python community was a big factor.</p>
<p>Diverse and powerful libraries, including SciPy stack, was another crucial factor.</p>
<p>And when I needed to use something outside Python libraries, including sagemath and C/C++ libraries, it was relatively painless to glue them into a Python program.</p>
</div>
<div class="section" id="python-in-the-core-module-of-loom">
<h3>Python in the core module of <tt class="docutils literal">loom</tt></h3>
<p>Let me go through the gut of loom to give you the detail of what is used in which way.</p>
<div class="section" id="symbolic-math">
<h4>Symbolic math</h4>
<p>In our computational problem we need to deal with a symbolic equation (<span class="math">\(\ref{eq:SW_curve}\)</span>) representing a Riemann surface to find branch points and turn the symbolic equation into a differential equation (<span class="math">\(\ref{eq:class_S_diff_eq}\)</span>). These require symbolic mathamatics and SymPy is in the first line of fire.</p>
<p>But sometimes we need more powerful math packages, for example when the equation is too complicated or when we need the knowledge of a representation of a Lie algebra. Then we use SageMath, and it’s done by Python’s <tt class="docutils literal">subprocess</tt> module calling a SageMath code.</p>
</div>
<div class="section" id="numerical-analysis">
<h4>Numerical analysis</h4>
<p>Then it’s time to solve the differential equation (<span class="math">\(\ref{eq:class_S_diff_eq}\)</span>). We use SciPy and NumPy for that purpose. More specifically, solving the differential equation is done in three ways: using <tt class="docutils literal">scipy.integrate</tt>, Numba, and a C code wrapped with <tt class="docutils literal">numpy.ctypeslib</tt>. There will be a separate blog post comparing the three implementations, not only their performances but also ease of use.</p>
<p>All the numerical data is stored in <tt class="docutils literal">numpy.ndarray</tt>, whose contiguous memory model is not only useful in storing data and exchange it with external C/C++ libraries but also very fast when doing a vectorized operation on the data.</p>
<p>Everything was easy and fast, actually to my surprise.</p>
<p>Then there is the issue of finding intersections of the curves, each of which is actually a set of points.
At first I used a neat trick of using interpolation which was done entirely using SciPy and NumPy, but this was neither robust nor fast, mainly due to my clumsy implementation. Then I found a C++ library,  Computational Geometry Algorithms Library (CGAL, <a class="reference external" href="http://www.cgal.org/">http://www.cgal.org/</a>), that is perfect for such a task, and Python is great in glueing the library into loom.</p>
</div>
<div class="section" id="parallelization">
<h4>Parallelization</h4>
<p>Generating a family of spectral networks is a naturally parallelizable task, and can be organized into a collection of parallel jobs that are managed as a pool of worker processes. On the other hand each worker has to share nontrivial amount of data regarding the geometry of the Riemann surface and then transfer quite a large amount of data to the main process, so worker processes cannot be totally isolated. Using Python's <tt class="docutils literal">multiprocessing</tt>, it is quite easy to boost the throughput of loom linealry with the number of CPUs available. The high energy theory group at Rutgers where I am working now has a couple of nice 40-core machines and loom is happily dwelling on one of the workstations.</p>
<p>After having multiprocessing going on, the next issue is how mutiple worker processes exchange data with the host process, and how the host process gathers log messages from the worker processes and send them to users. At first it looked like a difficult task, because the core of <tt class="docutils literal">loom</tt> and its front-end are separated into different processes, both for multiprocessing and for the implementation of UI's. But using Python’s <tt class="docutils literal">logging</tt> with <tt class="docutils literal">multiprocessing.Queue</tt> makes it easy to deliver messages and data between different processes so I was able to achieve such a goal with a small amount of effort.</p>
</div>
<div class="section" id="data-storage">
<h4>Data Storage</h4>
<p>Usually loom generates data of the order of ~1GB when studying complicated spectral networks, and it takes a couple of hours to generate the data, so without saving and/or loading such data, doing research, letting alone collaborations, is impractical. And the data is not a byte stream, it’s a mixture of symbolic math formulas and numerical parameters for the configuration and generated data in a hierarchical way representing the rich structure of spectral networks.</p>
<p>For the configuration part of the data, various symbolic and numerical parameters are conveniently managed using a configuration file formatted by Python’s <tt class="docutils literal">ConfigParser</tt>.</p>
<p>For the generated data, I chose JSON because the compatibility across platforms is important during collaborations. Saving data in JSON and loading data from the JSON file was very convenient thanks to Python's support for JSON. It was also unexpectedly fast considering we are dealing with structured data. When combined with Python’s <tt class="docutils literal">threading</tt> module, the IO delay was essentially nonexistent. One downside of JSON data is its large size as it is a plain text format, but using Python’s <tt class="docutils literal">zipfile</tt> to create a compressed file on memory eased the burden of transferring such a large data over the network less burdensome.</p>
</div>
</div>
<div class="section" id="python-in-the-front-end-of-loom">
<h3>Python in the front-end of <tt class="docutils literal">loom</tt></h3>
<div class="section" id="visualization">
<h4>Visualization</h4>
<p>Then let me proceed to the frontend of loom. The most important part of it is of course the visualization of generate data, and both Bokeh and matplotlib were used.</p>
<p>Bokeh is used to deliver a plot as a self-contained dynamic HTML plot, which produces colorful plots with interactability as we can see here with zooming and tooltip and so on, and it works well with reasonable size of data.</p>
<div style="display: block; margin: auto; width: 550px; height: 575px;">
    <iframe src="http://chan.physics.rutgers.edu/reveal.js/figures/loom_plots/plot_example_bokeh.html" style="width: 550px; height: 575px; background:none; box-shadow:none; border:none;"></iframe>
</div><p>matplotlib is useful when debugging thanks to its full customizability and also when producing a vector graphics for research papers.</p>
<object class="align-center" data="figures/plot_example_matplotlib.svg" style="width: 450px;" type="image/svg+xml">
matplotlib plot example</object>
</div>
<div class="section" id="gui">
<h4>GUI</h4>
<p>When running loom on a local machine, it is convenient to have a GUI, which was implemented using <tt class="docutils literal">Tkinter</tt>.</p>
<p>Labeling the information of each object in a plot is done using <a class="reference external" href="https://github.com/joferkington/mpldatacursor">mpldatacursor</a>.</p>
<img alt="loom desktop" class="align-center" src="figures/loom_desktop.png" style="width: 800px;" />
</div>
<div class="section" id="web-application-ui">
<h4>Web application UI</h4>
<p>But more emphasis was put on constructing a web frontend and web UI, because many of my theorist friends found it difficult to install Python and/or various Python libraries and I wanted to prepare a system and let my colleagues access it via web.  So a <strong>web frontend</strong> was built using <a class="reference external" href="http://flask.pocoo.org/">Flask</a> as a <strong>WSGI application</strong> running on an Apache web server, and the web application <strong>manages multiple instances of</strong> <tt class="docutils literal">loom</tt> <strong>processes</strong>.</p>
<p>Then the web UI is implemented using JavaScript and Bokeh’s callback functions, and Server-Sent Events (SSE) were used to send log messages to client web browsers. So here let me show you again the web UI of loom.</p>
<iframe src="http://chan.physics.rutgers.edu/loom/config" style="border: 1px black solid; width: 1280px; height: 850px;"></iframe></div>
</div>
</div>
<div class="section" id="epilogue">
<h2>Epilogue</h2>
<p>In the end loom enabled us to finish one project and more are on the way, and loom is actively used by a few researchers. So I would say that Python provides a wonderful suite of libraries useful to theoretical physicists.</p>
<p>As of now, Mathematica is the most popular tool for computational analysis among string theorists thanks to its user friendliness. But we do wish to have an open-source alternative and I see a great potential in Python, SageMath, and Jupyter.</p>
<p>Lastly let me thanks my collaborators,</p>
<ul class="simple">
<li>Pietro Longhi at Uppsala University, who was a co-author of my paper about spectral network and made an important contribution to <tt class="docutils literal">loom</tt>,</li>
<li>and Andy Neitzke at UT Austin, who is one of the pioneers in the study of spectral networks and has been giving great feedbacks to <tt class="docutils literal">loom</tt>,</li>
</ul>
<p>whose contributions have been crucial for this project.</p>
</div>
<div class="section" id="more-information">
<h2>More information</h2>
<p>Source code for <tt class="docutils literal">loom</tt> can be found at <a class="reference external" href="http://github.com/chan-y-park/loom">http://github.com/chan-y-park/loom</a>.</p>
<p>The preprint of a paper studying physics using <tt class="docutils literal">loom</tt> is available at <a class="reference external" href="http://arxiv.org/abs/1601.02633">http://arxiv.org/abs/1601.02633</a>.</p>
<p>One of the physics talk slides based on <tt class="docutils literal">loom</tt> and the paper is at <a class="reference external" href="http://chan.physics.rutgers.edu/reveal.js/perimeter.html">http://chan.physics.rutgers.edu/reveal.js/perimeter.html</a>.</p>
</div>
<div class="section" id="references">
<h2>References</h2>
<table class="docutils footnote" frame="void" id="gaiotto-2009" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>N=2 dualities, arXiv:0904.2715</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="gaiotto-moore-neitzke-2009" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Wall-crossing, Hitchin Systems, and the WKB Approximation, arXiv:0907.3987</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="seiberg-witten-1994" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Seiberg-Witten_1994]</a></td><td>Monopole Condensation, And Confinement In N=2 Supersymmetric Yang-Mills Theory,    arXiv:hep-th/9407087</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="henningson-yi-1997" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Henningson-Yi_1997]</a></td><td></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mikhailov-1997" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[Mikhailov_1997]</a></td><td></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="klemm-lerche-mayr-vafa-warner-1996" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[Klemm-Lerche-Mayr-Vafa-Warner_1996]</a></td><td></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="gaiotto-moore-neitzke-2012" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[Gaiotto-Moore-Neitzke_2012]</a></td><td></td></tr>
</tbody>
</table>
</div>
<script type='text/javascript'>if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Follow</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="http://github.com/chan-y-park"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/in/chan-youn-park-51a13b63"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
                <li class="list-group-item"><a href="http://twitter.com/chan_y_park"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="http://www.facebook.com/chan.y.park.5"><i class="fa fa-facebook-square fa-lg"></i> Facebook</a></li>
              </ul>
            </li>





    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://chan.physics.rutgers.edu/loom" target="_blank">
                loom
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://chan.physics.rutgers.edu/cproj" target="_blank">
                cproj
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Chan Y. Park
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>


</body>
</html>